import{c as pe,j as t,r as s,b as xe,R as be}from"./global-37cb6cc4.js";import{d as K,u as E,S as ve,C as _,a as W,b as z,c as H,e as Z}from"./card-0bd27364.js";import{L as ee,a as $}from"./axios-94fb030d.js";import{u as q,c as ge,a as Se,P as L,b as P,d as C,e as we}from"./index-5e6b7b59.js";import{R as ye,X as je,Y as Ne,T as Ce,B as Pe,n as Ee}from"./generateCategoricalChart-5cc77e0f.js";import{B as Re,C as Ae}from"./BarChart-cb27d469.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_e=pe("search",Te);function Le({className:e,type:r,...o}){return t.jsx("input",{type:r,"data-slot":"input",className:K("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...o})}function ke(e,r){return s.useReducer((o,l)=>r[o][l]??o,e)}var k=e=>{const{present:r,children:o}=e,l=De(r),n=typeof o=="function"?o({present:l.isPresent}):s.Children.only(o),i=E(l.ref,Oe(n));return typeof o=="function"||l.isPresent?s.cloneElement(n,{ref:i}):null};k.displayName="Presence";function De(e){const[r,o]=s.useState(),l=s.useRef(null),n=s.useRef(e),i=s.useRef("none"),c=e?"mounted":"unmounted",[u,a]=ke(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const m=U(l.current);i.current=u==="mounted"?m:"none"},[u]),q(()=>{const m=l.current,d=n.current;if(d!==e){const f=i.current,p=U(m);e?a("MOUNT"):p==="none"||(m==null?void 0:m.display)==="none"?a("UNMOUNT"):a(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,a]),q(()=>{if(r){let m;const d=r.ownerDocument.defaultView??window,h=p=>{const y=U(l.current).includes(CSS.escape(p.animationName));if(p.target===r&&y&&(a("ANIMATION_END"),!n.current)){const x=r.style.animationFillMode;r.style.animationFillMode="forwards",m=d.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=x)})}},f=p=>{p.target===r&&(i.current=U(l.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{d.clearTimeout(m),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else a("ANIMATION_END")},[r,a]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(m=>{l.current=m?getComputedStyle(m):null,o(m)},[])}}function U(e){return(e==null?void 0:e.animationName)||"none"}function Oe(e){var l,n;let r=(l=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:l.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function Me(e,r){return s.useReducer((o,l)=>r[o][l]??o,e)}var G="ScrollArea",[re,st]=ge(G),[Ie,S]=re(G),oe=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,type:l="hover",dir:n,scrollHideDelay:i=600,...c}=e,[u,a]=s.useState(null),[m,d]=s.useState(null),[h,f]=s.useState(null),[p,v]=s.useState(null),[y,x]=s.useState(null),[g,j]=s.useState(0),[V,D]=s.useState(0),[O,T]=s.useState(!1),[M,I]=s.useState(!1),b=E(r,R=>a(R)),w=Se(n);return t.jsx(Ie,{scope:o,type:l,dir:w,scrollHideDelay:i,scrollArea:u,viewport:m,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:O,onScrollbarXEnabledChange:T,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:j,onCornerHeightChange:D,children:t.jsx(L.div,{dir:w,...c,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":V+"px",...e.style}})})});oe.displayName=G;var ne="ScrollAreaViewport",le=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,children:l,nonce:n,...i}=e,c=S(ne,o),u=s.useRef(null),a=E(r,u,c.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(L.div,{"data-radix-scroll-area-viewport":"",...i,ref:a,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});le.displayName=ne;var N="ScrollAreaScrollbar",se=s.forwardRef((e,r)=>{const{forceMount:o,...l}=e,n=S(N,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=n,u=e.orientation==="horizontal";return s.useEffect(()=>(u?i(!0):c(!0),()=>{u?i(!1):c(!1)}),[u,i,c]),n.type==="hover"?t.jsx(We,{...l,ref:r,forceMount:o}):n.type==="scroll"?t.jsx(ze,{...l,ref:r,forceMount:o}):n.type==="auto"?t.jsx(ae,{...l,ref:r,forceMount:o}):n.type==="always"?t.jsx(J,{...l,ref:r}):null});se.displayName=N;var We=s.forwardRef((e,r)=>{const{forceMount:o,...l}=e,n=S(N,e.__scopeScrollArea),[i,c]=s.useState(!1);return s.useEffect(()=>{const u=n.scrollArea;let a=0;if(u){const m=()=>{window.clearTimeout(a),c(!0)},d=()=>{a=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",d),()=>{window.clearTimeout(a),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",d)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(k,{present:o||i,children:t.jsx(ae,{"data-state":i?"visible":"hidden",...l,ref:r})})}),ze=s.forwardRef((e,r)=>{const{forceMount:o,...l}=e,n=S(N,e.__scopeScrollArea),i=e.orientation==="horizontal",c=Y(()=>a("SCROLL_END"),100),[u,a]=Me("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return s.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>a("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,n.scrollHideDelay,a]),s.useEffect(()=>{const m=n.viewport,d=i?"scrollLeft":"scrollTop";if(m){let h=m[d];const f=()=>{const p=m[d];h!==p&&(a("SCROLL"),c()),h=p};return m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[n.viewport,i,a,c]),t.jsx(k,{present:o||u!=="hidden",children:t.jsx(J,{"data-state":u==="hidden"?"hidden":"visible",...l,ref:r,onPointerEnter:P(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),ae=s.forwardRef((e,r)=>{const o=S(N,e.__scopeScrollArea),{forceMount:l,...n}=e,[i,c]=s.useState(!1),u=e.orientation==="horizontal",a=Y(()=>{if(o.viewport){const m=o.viewport.offsetWidth<o.viewport.scrollWidth,d=o.viewport.offsetHeight<o.viewport.scrollHeight;c(u?m:d)}},10);return A(o.viewport,a),A(o.content,a),t.jsx(k,{present:l||i,children:t.jsx(J,{"data-state":i?"visible":"hidden",...n,ref:r})})}),J=s.forwardRef((e,r)=>{const{orientation:o="vertical",...l}=e,n=S(N,e.__scopeScrollArea),i=s.useRef(null),c=s.useRef(0),[u,a]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=me(u.viewport,u.content),d={...l,sizes:u,onSizesChange:a,hasThumb:m>0&&m<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:f=>c.current=f};function h(f,p){return Ye(f,c.current,u,p)}return o==="horizontal"?t.jsx(He,{...d,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollLeft,p=te(f,u,n.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=h(f,n.dir))}}):o==="vertical"?t.jsx(Ue,{...d,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollTop,p=te(f,u);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=h(f))}}):null}),He=s.forwardRef((e,r)=>{const{sizes:o,onSizesChange:l,...n}=e,i=S(N,e.__scopeScrollArea),[c,u]=s.useState(),a=s.useRef(null),m=E(r,a,i.onScrollbarXChange);return s.useEffect(()=>{a.current&&u(getComputedStyle(a.current))},[a]),t.jsx(ce,{"data-orientation":"horizontal",...n,ref:m,sizes:o,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":X(o)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),he(f,h)&&d.preventDefault()}},onResize:()=>{a.current&&i.viewport&&c&&l({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:B(c.paddingLeft),paddingEnd:B(c.paddingRight)}})}})}),Ue=s.forwardRef((e,r)=>{const{sizes:o,onSizesChange:l,...n}=e,i=S(N,e.__scopeScrollArea),[c,u]=s.useState(),a=s.useRef(null),m=E(r,a,i.onScrollbarYChange);return s.useEffect(()=>{a.current&&u(getComputedStyle(a.current))},[a]),t.jsx(ce,{"data-orientation":"vertical",...n,ref:m,sizes:o,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":X(o)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),he(f,h)&&d.preventDefault()}},onResize:()=>{a.current&&i.viewport&&c&&l({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:B(c.paddingTop),paddingEnd:B(c.paddingBottom)}})}})}),[Fe,ie]=re(N),ce=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,sizes:l,hasThumb:n,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:a,onDragScroll:m,onWheelScroll:d,onResize:h,...f}=e,p=S(N,o),[v,y]=s.useState(null),x=E(r,b=>y(b)),g=s.useRef(null),j=s.useRef(""),V=p.viewport,D=l.content-l.viewport,O=C(d),T=C(a),M=Y(h,10);function I(b){if(g.current){const w=b.clientX-g.current.left,R=b.clientY-g.current.top;m({x:w,y:R})}}return s.useEffect(()=>{const b=w=>{const R=w.target;(v==null?void 0:v.contains(R))&&O(w,D)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[V,v,D,O]),s.useEffect(T,[l,T]),A(v,M),A(p.content,M),t.jsx(Fe,{scope:o,scrollbar:v,hasThumb:n,onThumbChange:C(i),onThumbPointerUp:C(c),onThumbPositionChange:T,onThumbPointerDown:C(u),children:t.jsx(L.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:P(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),g.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),I(b))}),onPointerMove:P(e.onPointerMove,I),onPointerUp:P(e.onPointerUp,b=>{const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),F="ScrollAreaThumb",de=s.forwardRef((e,r)=>{const{forceMount:o,...l}=e,n=ie(F,e.__scopeScrollArea);return t.jsx(k,{present:o||n.hasThumb,children:t.jsx(Be,{ref:r,...l})})}),Be=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,style:l,...n}=e,i=S(F,o),c=ie(F,o),{onThumbPositionChange:u}=c,a=E(r,h=>c.onThumbChange(h)),m=s.useRef(void 0),d=Y(()=>{m.current&&(m.current(),m.current=void 0)},100);return s.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!m.current){const p=Ve(h,u);m.current=p,u()}};return u(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,u]),t.jsx(L.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:P(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,y=h.clientY-p.top;c.onThumbPointerDown({x:v,y})}),onPointerUp:P(e.onPointerUp,c.onThumbPointerUp)})});de.displayName=F;var Q="ScrollAreaCorner",ue=s.forwardRef((e,r)=>{const o=S(Q,e.__scopeScrollArea),l=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&l?t.jsx(Xe,{...e,ref:r}):null});ue.displayName=Q;var Xe=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,...l}=e,n=S(Q,o),[i,c]=s.useState(0),[u,a]=s.useState(0),m=!!(i&&u);return A(n.scrollbarX,()=>{var h;const d=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(d),a(d)}),A(n.scrollbarY,()=>{var h;const d=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(d),c(d)}),m?t.jsx(L.div,{...l,ref:r,style:{width:i,height:u,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function B(e){return e?parseInt(e,10):0}function me(e,r){const o=e/r;return isNaN(o)?0:o}function X(e){const r=me(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-o)*r;return Math.max(l,18)}function Ye(e,r,o,l="ltr"){const n=X(o),i=n/2,c=r||i,u=n-c,a=o.scrollbar.paddingStart+c,m=o.scrollbar.size-o.scrollbar.paddingEnd-u,d=o.content-o.viewport,h=l==="ltr"?[0,d]:[d*-1,0];return fe([a,m],h)(e)}function te(e,r,o="ltr"){const l=X(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,c=r.content-r.viewport,u=i-l,a=o==="ltr"?[0,c]:[c*-1,0],m=we(e,a);return fe([0,c],[0,u])(m)}function fe(e,r){return o=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const l=(r[1]-r[0])/(e[1]-e[0]);return r[0]+l*(o-e[0])}}function he(e,r){return e>0&&e<r}var Ve=(e,r=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},l=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},c=o.left!==i.left,u=o.top!==i.top;(c||u)&&r(),o=i,l=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(l)};function Y(e,r){const o=C(e),l=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(l.current),[]),s.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(o,r)},[o,r])}function A(e,r){const o=C(r);q(()=>{let l=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(o)});return n.observe(e),()=>{window.cancelAnimationFrame(l),n.unobserve(e)}}},[e,o])}var $e=oe,qe=le,Ke=ue;function Ge({className:e,children:r,...o}){return t.jsxs($e,{"data-slot":"scroll-area",className:K("relative",e),...o,children:[t.jsx(qe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),t.jsx(Je,{}),t.jsx(Ke,{})]})}function Je({className:e,orientation:r="vertical",...o}){return t.jsx(se,{"data-slot":"scroll-area-scrollbar",orientation:r,className:K("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...o,children:t.jsx(de,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Qe=()=>{const[e,r]=s.useState(""),[o,l]=s.useState([]),[n,i]=s.useState(!1),[c,u]=s.useState(null),[a,m]=s.useState(null),[d,h]=s.useState(null),[f,p]=s.useState(!1);s.useEffect(()=>{const g=setTimeout(async()=>{i(!0);try{const j=await $.get(`/api/employees?limit=20&search=${e}`);l(j.data)}catch(j){console.error("Failed to fetch employees",j)}finally{i(!1)}},300);return()=>clearTimeout(g)},[e]);const v=async x=>{u(x),m(null),h(null),p(!0);try{const g=await $.get(`/api/employees/${x}`);m(g.data);const j=await $.post("/api/predict/individual",{employee_id:x});h(j.data)}catch(g){console.error("Analysis failed",g),alert("Failed to analyze employee. Make sure models are trained.")}finally{p(!1)}},y=d?d.shap_values:[];return t.jsxs("div",{className:"flex bg-background min-h-screen font-sans text-foreground",children:[t.jsx(ve,{}),t.jsxs("main",{className:"flex-1 ml-64 p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-light text-foreground tracking-tight",children:"Individual Risk Analysis"}),t.jsx("p",{className:"text-muted-foreground font-light mt-1",children:"Select an employee to view their turnover risk profile."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 h-[calc(100vh-12rem)]",children:[t.jsx("div",{className:"lg:col-span-3 flex flex-col gap-4",children:t.jsxs(_,{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsxs(W,{className:"pb-3",children:[t.jsx(z,{className:"text-lg",children:"Find Employee"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Le,{placeholder:"Search by ID...",className:"pl-9",value:e,onChange:x=>r(x.target.value)})]})]}),t.jsx(H,{className:"flex-1 p-0 overflow-hidden",children:t.jsx(Ge,{className:"h-full",children:t.jsxs("div",{className:"flex flex-col p-2 gap-1",children:[n&&t.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:t.jsx(ee,{className:"w-4 h-4 animate-spin mx-auto"})}),!n&&o.length===0&&t.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No employees found."}),o.map(x=>t.jsxs("button",{onClick:()=>v(x.id),className:`flex flex-col items-start p-3 rounded-md text-left transition-colors hover:bg-muted/50 ${c===x.id?"bg-secondary":"bg-background"}`,children:[t.jsx("span",{className:"font-medium text-sm",children:x.name}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[x.role," â€¢ ",x.tenure_months," mo"]})]},x.id))]})})})]})}),t.jsx("div",{className:"lg:col-span-5 flex flex-col",children:t.jsxs(_,{className:"h-full overflow-hidden flex flex-col",children:[t.jsxs(W,{className:"pb-3 border-b",children:[t.jsx(z,{children:"Profile Details"}),t.jsx(Z,{children:c?`Viewing ${c}`:"Select an employee"})]}),t.jsx(H,{className:"flex-1 overflow-auto p-6",children:f?t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx(ee,{className:"w-8 h-8 animate-spin text-primary"})}):a?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-primary mb-3 uppercase tracking-wider border-b pb-1",children:"Demographics"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Age"})," ",a.a2_age]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Gender"})," ",a.a1_gender]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Education"})," ",a.a6_education_level]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Children"})," ",a.a3_number_of_children]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-primary mb-3 uppercase tracking-wider border-b pb-1",children:"Work"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Salary"})," R$ ",a.B11_salary_today_brl]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Tenure"})," ",a.B10_Tenure_in_month," months"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Commute"})," ",a.B1_commute_distance_in_km," km"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Sickness Days"})," ",a.B4_sickness_days]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-primary mb-3 uppercase tracking-wider border-b pb-1",children:"Survey Scores"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"Satisfaction"})," ",a.c1_overall_employee_satisfaction,"/10"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground block",children:"eNPS"})," ",a.M_eNPS,"/10"]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-muted-foreground block",children:"Onboarding Final"})," ",a.M_Onboarding_Final_Score?a.M_Onboarding_Final_Score.toFixed(1):"N/A"]})]})]})]}):t.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground text-sm",children:"Select an employee from the list to view details."})})]})}),t.jsx("div",{className:"lg:col-span-4 flex flex-col gap-4",children:d?t.jsxs(t.Fragment,{children:[t.jsxs(_,{className:`text-center py-6 transition-colors ${d.turnover_probability>.5?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[t.jsx(W,{className:"pb-2",children:t.jsx(z,{className:"text-lg",children:"Turnover Risk"})}),t.jsxs(H,{children:[t.jsxs("div",{className:`text-5xl font-black ${d.turnover_probability>.5?"text-red-600":"text-green-600"}`,children:[(d.turnover_probability*100).toFixed(1),"%"]}),t.jsx("div",{className:"mt-2 font-semibold text-base",children:d.turnover_probability>.5?"High Risk":"Low Risk"})]})]}),t.jsxs(_,{className:"flex-1 flex flex-col",children:[t.jsxs(W,{className:"pb-2",children:[t.jsx(z,{className:"text-lg",children:"Top Drivers"}),t.jsx(Z,{children:"Key factors (SHAP)"})]}),t.jsx(H,{className:"flex-1 min-h-[200px]",children:t.jsx(ye,{width:"100%",height:"100%",children:t.jsxs(Re,{data:y,layout:"vertical",margin:{left:5,right:30},children:[t.jsx(Ae,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"#e5e7eb"}),t.jsx(je,{type:"number",hide:!0}),t.jsx(Ne,{dataKey:"name",type:"category",width:90,tick:{fontSize:9,fill:"#6b7280"}}),t.jsx(Ce,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"12px"},cursor:{fill:"#f3f4f6"}}),t.jsx(Pe,{dataKey:"value",name:"Impact",radius:[0,4,4,0],children:y.map((x,g)=>t.jsx(Ee,{fill:x.value>0?"#f472b6":"#818cf8"},`cell-${g}`))})]})})})]})]}):t.jsx(_,{className:"flex-1 flex items-center justify-center p-8 text-center text-muted-foreground border-dashed",children:t.jsx("p",{className:"text-sm",children:"Risk analysis will appear here after selection."})})})]})]})]})};xe.createRoot(document.getElementById("root")).render(t.jsx(be.StrictMode,{children:t.jsx(Qe,{})}));
